{% extends "base_admin.html" %}
{% block content %}

<h1 class="dr-page-title">{{ page_title }}</h1>
<p class="dr-page-subtitle">
  View and manage all {{ status_label|lower }} donations.
</p>

<div class="dr-card" style="margin-top:20px;">

  {% if donations and donations|length > 0 %}
    <div class="ngo-table-wrapper">
      <table class="ngo-table">
        <thead>
          <tr>
            <th>Tracking ID</th>
            <th>Item</th>
            <th>Quantity</th>
            <th>Condition</th>
            <th>Donor Zone</th>
            <th>Status</th>
            <th>Assigned NGO</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for d in donations %}
          <tr>
            <td>{{ d.tracking_id }}</td>
            <td>
              <strong>{{ d.item_name }}</strong>
              {% if d.description %}
                <div style="font-size:12px; opacity:0.8; margin-top:3px;">
                  {{ d.description }}
                </div>
              {% endif %}
            </td>
            <td>{{ d.quantity or "—" }}</td>
            <td>{{ d.condition or "—" }}</td>
            <td>{{ d.donor_zone or "—" }}</td>
            <td style="text-transform:capitalize;">{{ d.status }}</td>
            <td>
              {% if d.ngo %}
                {{ d.ngo.name }}
              {% else %}
                <span style="opacity:0.7;">Unassigned</span>
              {% endif %}
            </td>
            <td>
              <a href="{{ url_for('admin_donation_detail', donation_id=d.id) }}"
                 class="badge green"
                 style="text-decoration:none; display:inline-block;">
                View / Manage
              </a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% else %}
    <div class="dr-alert dr-alert-warning">
      No {{ status_label|lower }} donations at the moment.
    </div>
  {% endif %}

</div>

{% endblock %}
